parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"QkNs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=(()=>{var t="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;return function(e={}){var n,r,a=e;function i(){let t=0,e=0,n=new Map,r=null,a=null;this.requestAnimationFrame=function(a){t||(t=requestAnimationFrame(function(a){const i=n;e=t=0,n=new Map,i.forEach(t=>{try{t(a)}catch(e){console.error(e)}}),this.Qa(),r&&r.nb()}.bind(this)));const i=++e;return n.set(i,a),i},this.cancelAnimationFrame=function(e){n.delete(e),t&&0==n.size&&(cancelAnimationFrame(t),t=0)},this.lb=function(t){a&&(document.body.remove(a),a=null),t||((a=document.createElement("div")).style.backgroundColor="black",a.style.position="fixed",a.style.right=0,a.style.top=0,a.style.color="white",a.style.padding="4px",a.innerHTML="RIVE FPS",t=function(t){a.innerHTML="RIVE FPS "+t.toFixed(1)},document.body.appendChild(a)),r=new function(){let e=0,n=0;this.nb=function(){var r=performance.now();n?(++e,1e3<(r-=n)&&(t(1e3*e/r),e=n=0)):(n=r,e=0)}}},this.ib=function(){a&&(document.body.remove(a),a=null),r=null},this.Qa=function(){}}function o(t){console.assert(!0);const e=new Map;let n=-1/0;this.push=function(r){return r=r+((1<<t)-1)>>t,e.has(r)&&clearTimeout(e.get(r)),e.set(r,setTimeout(function(){e.delete(r),0==e.length?n=-1/0:r==n&&(n=Math.max(...e.keys()),console.assert(n<r))},1e3)),(n=Math.max(r,n))<<t}}a.ready=new Promise((t,e)=>{n=t,r=e});const s="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),u=new function(){function t(){if(!e){var t=document.createElement("canvas"),o={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let u=t.getContext("webgl2",o);if(u)n=2;else{if(!(u=t.getContext("webgl",o)))return console.log("No WebGL support. Image mesh will not be drawn."),!1;n=1}function s(t,e,n){if(e=u.createShader(e),u.shaderSource(e,n),u.compileShader(e),0<(n=u.getShaderInfoLog(e)).length)throw n;u.attachShader(t,e)}if(r=Math.min(u.getParameter(u.MAX_RENDERBUFFER_SIZE),u.getParameter(u.MAX_TEXTURE_SIZE)),s(t=u.createProgram(),u.VERTEX_SHADER,"attribute vec2 vertex;\n                attribute vec2 uv;\n                uniform vec4 mat;\n                uniform vec2 translate;\n                varying vec2 st;\n                void main() {\n                    st = uv;\n                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);\n                }"),s(t,u.FRAGMENT_SHADER,"precision highp float;\n                uniform sampler2D image;\n                varying vec2 st;\n                void main() {\n                    gl_FragColor = texture2D(image, st);\n                }"),u.bindAttribLocation(t,0,"vertex"),u.bindAttribLocation(t,1,"uv"),u.linkProgram(t),0<(o=u.getProgramInfoLog(t)).trim().length)throw o;a=u.getUniformLocation(t,"mat"),i=u.getUniformLocation(t,"translate"),u.useProgram(t),u.bindBuffer(u.ARRAY_BUFFER,u.createBuffer()),u.enableVertexAttribArray(0),u.enableVertexAttribArray(1),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,u.createBuffer()),u.uniform1i(u.getUniformLocation(t,"image"),0),u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e=u}return!0}let e=null,n=0,r=0,a=null,i=null,s=0,u=0;this.wb=function(){return t(),r},this.gb=function(r){if(!t())return null;const a=e.createTexture();return e.bindTexture(e.TEXTURE_2D,a),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),2==n?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),a};const c=new o(8),l=new o(8),f=new o(10),h=new o(10);this.kb=function(n,r,o,d,p){if(t()){var v=c.push(n),m=l.push(r);for(var g of(e.canvas.width==v&&e.canvas.height==m||(e.canvas.width=v,e.canvas.height=m),e.viewport(0,m-r,n,r),e.disable(e.SCISSOR_TEST),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.enable(e.SCISSOR_TEST),o.sort((t,e)=>e.Ua-t.Ua),v=f.push(d),s!=v&&(e.bufferData(e.ARRAY_BUFFER,8*v,e.DYNAMIC_DRAW),s=v),v=0,o))e.bufferSubData(e.ARRAY_BUFFER,v,g.Da),v+=4*g.Da.length;for(var y of(console.assert(v==4*d),o))e.bufferSubData(e.ARRAY_BUFFER,v,y.Xa),v+=4*y.Xa.length;for(var b of(console.assert(v==8*d),v=h.push(p),u!=v&&(e.bufferData(e.ELEMENT_ARRAY_BUFFER,2*v,e.DYNAMIC_DRAW),u=v),g=0,o))e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,g,b.indices),g+=2*b.indices.length;console.assert(g==2*p),b=0,y=!0,v=g=0;for(const t of o){t.image.za!=b&&(e.bindTexture(e.TEXTURE_2D,t.image.cb||null),b=t.image.za),t.zb?(e.scissor(t.Ia,m-t.Ja-t.Pa,t.Gb,t.Pa),y=!0):y&&(e.scissor(0,m-r,n,r),y=!1),o=2/n;const s=-2/r;e.uniform4f(a,t.oa[0]*o*t.va,t.oa[1]*s*t.wa,t.oa[2]*o*t.va,t.oa[3]*s*t.wa),e.uniform2f(i,t.oa[4]*o*t.va+o*(t.Ia-t.xb*t.va)-1,t.oa[5]*s*t.wa+s*(t.Ja-t.yb*t.wa)+1),e.vertexAttribPointer(0,2,e.FLOAT,!1,0,v),e.vertexAttribPointer(1,2,e.FLOAT,!1,0,v+4*d),e.drawElements(e.TRIANGLES,t.indices.length,e.UNSIGNED_SHORT,g),v+=4*t.Da.length,g+=2*t.indices.length}console.assert(v==4*d),console.assert(g==2*p)}},this.canvas=function(){return t()&&e.canvas}};a.onRuntimeInitialized=function(){function t(t){switch(t){case d.srcOver:return"source-over";case d.screen:return"screen";case d.overlay:return"overlay";case d.darken:return"darken";case d.lighten:return"lighten";case d.colorDodge:return"color-dodge";case d.colorBurn:return"color-burn";case d.hardLight:return"hard-light";case d.softLight:return"soft-light";case d.difference:return"difference";case d.exclusion:return"exclusion";case d.multiply:return"multiply";case d.hue:return"hue";case d.saturation:return"saturation";case d.color:return"color";case d.luminosity:return"luminosity"}}function e(t){return"rgba("+((16711680&t)>>>16)+","+((65280&t)>>>8)+","+((255&t)>>>0)+","+((4278190080&t)>>>24)/255+")"}function n(){0<E.length&&(u.kb(T.drawWidth(),T.drawHeight(),E,W,P),E=[],P=W=0,T.reset(512,512));for(const t of A){for(const e of t.da)e();t.da=[]}A.clear()}var r=a.RenderPaintStyle;const o=a.RenderPath,c=a.RenderPaint,l=a.Renderer,f=a.StrokeCap,h=a.StrokeJoin,d=a.BlendMode,p=r.fill,v=r.stroke,m=a.FillRule.evenOdd;let g=1;var y=a.RenderImage.extend("CanvasRenderImage",{__construct:function(){this.__parent.__construct.call(this),this.za=g,g=g+1&2147483647||1},decode:function(t){let e=C;e.total++;var n=this,r=new Image;r.src=URL.createObjectURL(new Blob([t],{type:"image/png"})),r.onload=function(){if(n.ab=r,n.cb=u.gb(r),n.size(r.width,r.height),e.loaded++,e.loaded===e.total){const t=e.ready;t&&(t(),e.ready=null)}}}}),b=o.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.ia=new Path2D},rewind:function(){this.ia=new Path2D},addPath:function(t,e,n,r,a,i,o){var s=this.ia,u=s.addPath;t=t.ia;const c=new DOMMatrix;c.a=e,c.b=n,c.c=r,c.d=a,c.e=i,c.f=o,u.call(s,t,c)},fillRule:function(t){this.Ga=t},moveTo:function(t,e){this.ia.moveTo(t,e)},lineTo:function(t,e){this.ia.lineTo(t,e)},cubicTo:function(t,e,n,r,a,i){this.ia.bezierCurveTo(t,e,n,r,a,i)},close:function(){this.ia.closePath()}}),w=c.extend("CanvasRenderPaint",{color:function(t){this.Ha=e(t)},thickness:function(t){this.eb=t},join:function(t){switch(t){case h.miter:this.ya="miter";break;case h.round:this.ya="round";break;case h.bevel:this.ya="bevel"}},cap:function(t){switch(t){case f.butt:this.xa="butt";break;case f.round:this.xa="round";break;case f.square:this.xa="square"}},style:function(t){this.bb=t},blendMode:function(e){this.$a=t(e)},clearGradient:function(){this.qa=null},linearGradient:function(t,e,n,r){this.qa={Va:t,Wa:e,La:n,Ma:r,Ca:[]}},radialGradient:function(t,e,n,r){this.qa={Va:t,Wa:e,La:n,Ma:r,Ca:[],ub:!0}},addStop:function(t,e){this.qa.Ca.push({color:t,stop:e})},completeGradient:function(){},draw:function(t,n,r){let a=this.bb;var i=this.Ha,o=this.qa;if(t.globalCompositeOperation=this.$a,null!=o){i=o.Va;var s=o.Wa;const n=o.La;var u=o.Ma;const r=o.Ca;o.ub?(o=n-i,u-=s,i=t.createRadialGradient(i,s,0,i,s,Math.sqrt(o*o+u*u))):i=t.createLinearGradient(i,s,n,u);for(let t=0,a=r.length;t<a;t++)s=r[t],i.addColorStop(s.stop,e(s.color));this.Ha=i,this.qa=null}switch(a){case v:t.strokeStyle=i,t.lineWidth=this.eb,t.lineCap=this.xa,t.lineJoin=this.ya,t.stroke(n);break;case p:t.fillStyle=i,t.fill(n,r)}}});const A=new Set;let T=null,E=[],W=0,P=0;var R=a.CanvasRenderer=l.extend("Renderer",{__construct:function(t){this.__parent.__construct.call(this),this.ha=[1,0,0,1,0,0],this.ba=t.getContext("2d"),this.Fa=t,this.da=[]},save:function(){this.ha.push(...this.ha.slice(this.ha.length-6)),this.da.push(this.ba.save.bind(this.ba))},restore:function(){const t=this.ha.length-6;if(6>t)throw"restore() called without matching save().";this.ha.splice(t),this.da.push(this.ba.restore.bind(this.ba))},transform:function(t,e,n,r,a,i){const o=this.ha,s=o.length-6;o.splice(s,6,o[s]*t+o[s+2]*e,o[s+1]*t+o[s+3]*e,o[s]*n+o[s+2]*r,o[s+1]*n+o[s+3]*r,o[s]*a+o[s+2]*i+o[s+4],o[s+1]*a+o[s+3]*i+o[s+5]),this.da.push(this.ba.transform.bind(this.ba,t,e,n,r,a,i))},rotate:function(t){const e=Math.sin(t);t=Math.cos(t),this.transform(t,e,-e,t,0,0)},_drawPath:function(t,e){this.da.push(e.draw.bind(e,this.ba,t.ia,t.Ga===m?"evenodd":"nonzero"))},_drawRiveImage:function(e,n,r){var a=e.ab;if(a){var i=this.ba,o=t(n);this.da.push(function(){i.globalCompositeOperation=o,i.globalAlpha=r,i.drawImage(a,0,0),i.globalAlpha=1})}},_getMatrix:function(t){const e=this.ha,n=e.length-6;for(let r=0;6>r;++r)t[r]=e[n+r]},_drawImageMesh:function(e,r,i,o,s,c,l,f,h,d){var p=this.ba.canvas.width,v=this.ba.canvas.height;const m=h-l,g=d-f;l=Math.max(l,0),f=Math.max(f,0),h=Math.min(h,p),d=Math.min(d,v);const y=h-l,b=d-f;if(console.assert(y<=Math.min(m,p)),console.assert(b<=Math.min(g,v)),!(0>=y||0>=b)){h=y<m||b<g,p=d=1;var w=Math.ceil(y*d),R=Math.ceil(b*p);v=u.wb(),w>v&&(d*=v/w,w=v),R>v&&(p*=v/R,R=v),T||(T=new a.DynamicRectanizer(v)).reset(512,512),0>(v=T.addRect(w,R))&&(n(),A.add(this),v=T.addRect(w,R),console.assert(0<=v));var _=65535&v,C=v>>16;E.push({oa:this.ha.slice(this.ha.length-6),image:e,Ia:_,Ja:C,xb:l,yb:f,Gb:w,Pa:R,va:d,wa:p,Da:new Float32Array(o),Xa:new Float32Array(s),indices:new Uint16Array(c),zb:h,Ua:e.za<<1|(h?1:0)}),W+=o.length,P+=c.length;var $=this.ba,k=t(r);this.da.push(function(){$.save(),$.resetTransform(),$.globalCompositeOperation=k,$.globalAlpha=i,$.drawImage(u.canvas(),_,C,w,R,l,f,y,b),$.restore()})}},_clipPath:function(t){this.da.push(this.ba.clip.bind(this.ba,t.ia,t.Ga===m?"evenodd":"nonzero"))},clear:function(){A.add(this),this.da.push(this.ba.clearRect.bind(this.ba,0,0,this.Fa.width,this.Fa.height))},flush:function(){},translate:function(t,e){this.transform(1,0,0,1,t,e)}});a.makeRenderer=function(t){const e=new R(t),n=e.ba;return new Proxy(e,{get(t,r){if("function"==typeof t[r])return function(...e){return t[r].apply(t,e)};if("function"==typeof n[r]){if(-1<s.indexOf(r))throw Error("RiveException: Method call to '"+r+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...t){e.da.push(n[r].bind(n,...t))}}return t[r]},set(t,e,r){if(e in n)return n[e]=r,!0}})},a.renderFactory={makeRenderPaint:function(){return new w},makeRenderPath:function(){return new b},makeRenderImage:function(){return new y}};let _=a.load,C=null;a.load=function(t){return new Promise(function(e){let n=null;C={total:0,loaded:0,ready:function(){e(n)}},n=_(t),0==C.total&&e(n)})},r=new i,a.requestAnimationFrame=r.requestAnimationFrame.bind(r),a.cancelAnimationFrame=r.cancelAnimationFrame.bind(r),a.enableFPSCounter=r.lb.bind(r),a.disableFPSCounter=r.ib,r.Qa=n,a.cleanup=function(){T&&T.delete()}};var c,l,f=Object.assign({},a),h="./this.program",d="object"==typeof window,p="function"==typeof importScripts,v="";(d||p)&&(p?v=self.location.href:"undefined"!=typeof document&&document.currentScript&&(v=document.currentScript.src),t&&(v=t),v=0!==v.indexOf("blob:")?v.substr(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1):"",p&&(l=(t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)})),c=((t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=(()=>{200==r.status||0==r.status&&r.response?e(r.response):n()}),r.onerror=n,r.send(null)}));var m,g=a.print||console.log.bind(console),y=a.printErr||console.error.bind(console);Object.assign(a,f),f=null,a.thisProgram&&(h=a.thisProgram),a.wasmBinary&&(m=a.wasmBinary);a.noExitRuntime;"object"!=typeof WebAssembly&&D("no native wasm support detected");var b,w,A,T,E,W,P,R,_,C,$=!1;function k(){var t=b.buffer;a.HEAP8=A=new Int8Array(t),a.HEAP16=E=new Int16Array(t),a.HEAP32=P=new Int32Array(t),a.HEAPU8=T=new Uint8Array(t),a.HEAPU16=W=new Uint16Array(t),a.HEAPU32=R=new Uint32Array(t),a.HEAPF32=_=new Float32Array(t),a.HEAPF64=C=new Float64Array(t)}var S,F=[],x=[],I=[];function O(){var t=a.preRun.shift();F.unshift(t)}var U,X=0,M=null,j=null;function D(t){throw a.onAbort&&a.onAbort(t),y(t="Aborted("+t+")"),$=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),r(t),t}function L(t){return t.startsWith("data:application/octet-stream;base64,")}if(!L(U="canvas_advanced.wasm")){var B=U;U=a.locateFile?a.locateFile(B,v):v+B}function Y(t){if(t==U&&m)return new Uint8Array(m);if(l)return l(t);throw"both async and sync fetching of the wasm failed"}function G(t,e,n){return function(t){if(!m&&(d||p)){if("function"==typeof fetch&&!t.startsWith("file://"))return fetch(t,{credentials:"same-origin"}).then(e=>{if(!e.ok)throw"failed to load wasm binary file at '"+t+"'";return e.arrayBuffer()}).catch(()=>Y(t));if(c)return new Promise((e,n)=>{c(t,t=>e(new Uint8Array(t)),n)})}return Promise.resolve().then(()=>Y(t))}(t).then(t=>WebAssembly.instantiate(t,e)).then(t=>t).then(n,t=>{y("failed to asynchronously prepare wasm: "+t),D(t)})}var N=t=>{for(;0<t.length;)t.shift()(a)};function H(t){if(void 0===t)return"_unknown";var e=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=e&&57>=e?`_${t}`:t}function Z(t,e){return{[t=H(t)]:function(){return e.apply(this,arguments)}}[t]}function z(){this.ja=[void 0],this.Oa=[]}var V=new z,q=void 0;function J(t){throw new q(t)}var K=t=>(t||J("Cannot use deleted val. handle = "+t),V.get(t).value),Q=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return V.Ya({Ta:1,value:t})}};function tt(t){var e=Error,n=Z(t,function(e){this.name=t,this.message=e,void 0!==(e=Error(e).stack)&&(this.stack=this.toString()+"\n"+e.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},n}var et=void 0,nt=void 0;function rt(t){for(var e="";T[t];)e+=nt[T[t++]];return e}var at=[];function it(){for(;at.length;){var t=at.pop();t.W.na=!1,t.delete()}}var ot=void 0,st={};function ut(t,e){for(void 0===e&&J("ptr should not be undefined");t.$;)e=t.ra(e),t=t.$;return e}var ct={};function lt(t){var e=rt(t=we(t));return ye(t),e}function ft(t,e){var n=ct[t];return void 0===n&&J(e+" has unknown type "+lt(t)),n}function ht(){}var dt=!1;function pt(t){--t.count.value,0===t.count.value&&(t.ca?t.fa.ka(t.ca):t.Z.X.ka(t.Y))}var vt={};var mt=void 0;function gt(t){throw new mt(t)}function yt(t,e){return e.Z&&e.Y||gt("makeClassHandle requires ptr and ptrType"),!!e.fa!=!!e.ca&&gt("Both smartPtrType and smartPtr must be specified"),e.count={value:1},bt(Object.create(t,{W:{value:e}}))}function bt(t){return"undefined"==typeof FinalizationRegistry?(bt=(t=>t),t):(dt=new FinalizationRegistry(t=>{pt(t.W)}),ht=(t=>{dt.unregister(t)}),(bt=(t=>{var e=t.W;return e.ca&&dt.register(t,{W:e},t),t}))(t))}var wt={};function At(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function Tt(t){return this.fromWireType(P[t>>2])}var Et={},Wt={};function Pt(t,e,n){function r(e){(e=n(e)).length!==t.length&&gt("Mismatched type converter count");for(var r=0;r<t.length;++r)_t(t[r],e[r])}t.forEach(function(t){Wt[t]=e});var a=Array(e.length),i=[],o=0;e.forEach((t,e)=>{ct.hasOwnProperty(t)?a[e]=ct[t]:(i.push(t),Et.hasOwnProperty(t)||(Et[t]=[]),Et[t].push(()=>{a[e]=ct[t],++o===i.length&&r(a)}))}),0===i.length&&r(a)}function Rt(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${t}`)}}function _t(t,e,n={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");!function(t,e,n={}){var r=e.name;if(t||J(`type "${r}" must have a positive integer typeid pointer`),ct.hasOwnProperty(t)){if(n.tb)return;J(`Cannot register type '${r}' twice`)}ct[t]=e,delete Wt[t],Et.hasOwnProperty(t)&&(e=Et[t],delete Et[t],e.forEach(t=>t()))}(t,e,n)}function Ct(t){J(t.W.Z.X.name+" instance already deleted")}function $t(){}function kt(t,e,n){if(void 0===t[e].aa){var r=t[e];t[e]=function(){return t[e].aa.hasOwnProperty(arguments.length)||J(`Function '${n}' called with an invalid number of arguments (${arguments.length}) - expects one of (${t[e].aa})!`),t[e].aa[arguments.length].apply(this,arguments)},t[e].aa=[],t[e].aa[r.ma]=r}}function St(t,e,n){a.hasOwnProperty(t)?((void 0===n||void 0!==a[t].aa&&void 0!==a[t].aa[n])&&J(`Cannot register public name '${t}' twice`),kt(a,t,t),a.hasOwnProperty(n)&&J(`Cannot register multiple overloads of a function with the same number of arguments (${n})!`),a[t].aa[n]=e):(a[t]=e,void 0!==n&&(a[t].Hb=n))}function Ft(t,e,n,r,a,i,o,s){this.name=t,this.constructor=e,this.ga=n,this.ka=r,this.$=a,this.ob=i,this.ra=o,this.jb=s,this.Ra=[]}function xt(t,e,n){for(;e!==n;)e.ra||J(`Expected null or instance of ${n.name}, got an instance of ${e.name}`),t=e.ra(t),e=e.$;return t}function It(t,e){return null===e?(this.Aa&&J(`null is not a valid ${this.name}`),0):(e.W||J(`Cannot pass "${zt(e)}" as a ${this.name}`),e.W.Y||J(`Cannot pass deleted object as a pointer of type ${this.name}`),xt(e.W.Y,e.W.Z.X,this.X))}function Ot(t,e){if(null===e){if(this.Aa&&J(`null is not a valid ${this.name}`),this.ua){var n=this.Ba();return null!==t&&t.push(this.ka,n),n}return 0}if(e.W||J(`Cannot pass "${zt(e)}" as a ${this.name}`),e.W.Y||J(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.ta&&e.W.Z.ta&&J(`Cannot convert argument of type ${e.W.fa?e.W.fa.name:e.W.Z.name} to parameter type ${this.name}`),n=xt(e.W.Y,e.W.Z.X,this.X),this.ua)switch(void 0===e.W.ca&&J("Passing raw pointer to smart pointer is illegal"),this.Fb){case 0:e.W.fa===this?n=e.W.ca:J(`Cannot convert argument of type ${e.W.fa?e.W.fa.name:e.W.Z.name} to parameter type ${this.name}`);break;case 1:n=e.W.ca;break;case 2:if(e.W.fa===this)n=e.W.ca;else{var r=e.clone();n=this.Bb(n,Q(function(){r.delete()})),null!==t&&t.push(this.ka,n)}break;default:J("Unsupporting sharing policy")}return n}function Ut(t,e){return null===e?(this.Aa&&J(`null is not a valid ${this.name}`),0):(e.W||J(`Cannot pass "${zt(e)}" as a ${this.name}`),e.W.Y||J(`Cannot pass deleted object as a pointer of type ${this.name}`),e.W.Z.ta&&J(`Cannot convert argument of type ${e.W.Z.name} to parameter type ${this.name}`),xt(e.W.Y,e.W.Z.X,this.X))}function Xt(t,e,n,r){this.name=t,this.X=e,this.Aa=n,this.ta=r,this.ua=!1,this.ka=this.Bb=this.Ba=this.Sa=this.Fb=this.Ab=void 0,void 0!==e.$?this.toWireType=Ot:(this.toWireType=r?It:Ut,this.ea=null)}function Mt(t,e,n){a.hasOwnProperty(t)||gt("Replacing nonexistant public symbol"),void 0!==a[t].aa&&void 0!==n?a[t].aa[n]=e:(a[t]=e,a[t].ma=n)}var jt=(t,e)=>{var n=[];return function(){if(n.length=0,Object.assign(n,arguments),t.includes("j")){var r=a["dynCall_"+t];r=n&&n.length?r.apply(null,[e].concat(n)):r.call(null,e)}else r=S.get(e).apply(null,n);return r}};function Dt(t,e){var n=(t=rt(t)).includes("j")?jt(t,e):S.get(e);return"function"!=typeof n&&J(`unknown function pointer with signature ${t}: ${e}`),n}var Lt=void 0;function Bt(t,e){var n=[],r={};throw e.forEach(function t(e){r[e]||ct[e]||(Wt[e]?Wt[e].forEach(t):(n.push(e),r[e]=!0))}),new Lt(`${t}: `+n.map(lt).join([", "]))}function Yt(t,e,n,r,a){var i=e.length;2>i&&J("argTypes array size mismatch! Must at least get return value and 'this' types!");var o=null!==e[1]&&null!==n,s=!1;for(n=1;n<e.length;++n)if(null!==e[n]&&void 0===e[n].ea){s=!0;break}var u="void"!==e[0].name,c=i-2,l=Array(c),f=[],h=[];return function(){if(arguments.length!==c&&J(`function ${t} called with ${arguments.length} arguments, expected ${c} args!`),h.length=0,f.length=o?2:1,f[0]=a,o){var n=e[1].toWireType(h,this);f[1]=n}for(var i=0;i<c;++i)l[i]=e[i+2].toWireType(h,arguments[i]),f.push(l[i]);if(i=r.apply(null,f),s)At(h);else for(var d=o?1:2;d<e.length;d++){var p=1===d?n:l[d-2];null!==e[d].ea&&e[d].ea(p)}return n=u?e[0].fromWireType(i):void 0}}function Gt(t,e){for(var n=[],r=0;r<t;r++)n.push(R[e+4*r>>2]);return n}function Nt(t,e,n){return t instanceof Object||J(`${n} with invalid "this": ${t}`),t instanceof e.X.constructor||J(`${n} incompatible with "this" of type ${t.constructor.name}`),t.W.Y||J(`cannot call emscripten binding method ${n} on deleted object`),xt(t.W.Y,t.W.Z.X,e.X)}function Ht(t){t>=V.Ea&&0==--V.get(t).Ta&&V.Za(t)}function Zt(t,e,n){switch(e){case 0:return function(t){return this.fromWireType((n?A:T)[t])};case 1:return function(t){return this.fromWireType((n?E:W)[t>>1])};case 2:return function(t){return this.fromWireType((n?P:R)[t>>2])};default:throw new TypeError("Unknown integer type: "+t)}}function zt(t){if(null===t)return"null";var e=typeof t;return"object"===e||"array"===e||"function"===e?t.toString():""+t}function Vt(t,e){switch(e){case 2:return function(t){return this.fromWireType(_[t>>2])};case 3:return function(t){return this.fromWireType(C[t>>3])};default:throw new TypeError("Unknown float type: "+t)}}function qt(t,e,n){switch(e){case 0:return n?function(t){return A[t]}:function(t){return T[t]};case 1:return n?function(t){return E[t>>1]}:function(t){return W[t>>1]};case 2:return n?function(t){return P[t>>2]}:function(t){return R[t>>2]};default:throw new TypeError("Unknown integer type: "+t)}}var Jt="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,Kt=(t,e,n)=>{var r=e+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&Jt)return Jt.decode(t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r},Qt="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,te=(t,e)=>{for(var n=t>>1,r=n+e/2;!(n>=r)&&W[n];)++n;if(32<(n<<=1)-t&&Qt)return Qt.decode(T.subarray(t,n));for(n="",r=0;!(r>=e/2);++r){var a=E[t+2*r>>1];if(0==a)break;n+=String.fromCharCode(a)}return n},ee=(t,e,n)=>{if(void 0===n&&(n=2147483647),2>n)return 0;var r=e;n=(n-=2)<2*t.length?n/2:t.length;for(var a=0;a<n;++a)E[e>>1]=t.charCodeAt(a),e+=2;return E[e>>1]=0,e-r},ne=t=>2*t.length,re=(t,e)=>{for(var n=0,r="";!(n>=e/4);){var a=P[t+4*n>>2];if(0==a)break;++n,65536<=a?(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a)):r+=String.fromCharCode(a)}return r},ae=(t,e,n)=>{if(void 0===n&&(n=2147483647),4>n)return 0;var r=e;n=r+n-4;for(var a=0;a<t.length;++a){var i=t.charCodeAt(a);if(55296<=i&&57343>=i)i=65536+((1023&i)<<10)|1023&t.charCodeAt(++a);if(P[e>>2]=i,(e+=4)+4>n)break}return P[e>>2]=0,e-r},ie=t=>{for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);55296<=r&&57343>=r&&++n,e+=4}return e},oe={};function se(t){var e=oe[t];return void 0===e?rt(t):e}var ue=[];var ce,le=[],fe={},he=()=>{if(!ce){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:h||"./this.program"};for(t in fe)void 0===fe[t]?delete e[t]:e[t]=fe[t];var n=[];for(t in e)n.push(`${t}=${e[t]}`);ce=n}return ce},de=[null,[],[]];Object.assign(z.prototype,{get(t){return this.ja[t]},has(t){return void 0!==this.ja[t]},Ya(t){var e=this.Oa.pop()||this.ja.length;return this.ja[e]=t,e},Za(t){this.ja[t]=void 0,this.Oa.push(t)}}),q=a.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},V.ja.push({value:void 0},{value:null},{value:!0},{value:!1}),V.Ea=V.ja.length,a.count_emval_handles=function(){for(var t=0,e=V.Ea;e<V.ja.length;++e)void 0!==V.ja[e]&&++t;return t},et=a.PureVirtualError=tt("PureVirtualError");for(var pe=Array(256),ve=0;256>ve;++ve)pe[ve]=String.fromCharCode(ve);nt=pe,a.getInheritedInstanceCount=function(){return Object.keys(st).length},a.getLiveInheritedInstances=function(){var t,e=[];for(t in st)st.hasOwnProperty(t)&&e.push(st[t]);return e},a.flushPendingDeletes=it,a.setDelayFunction=function(t){ot=t,at.length&&ot&&ot(it)},mt=a.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},$t.prototype.isAliasOf=function(t){if(!(this instanceof $t&&t instanceof $t))return!1;var e=this.W.Z.X,n=this.W.Y,r=t.W.Z.X;for(t=t.W.Y;e.$;)n=e.ra(n),e=e.$;for(;r.$;)t=r.ra(t),r=r.$;return e===r&&n===t},$t.prototype.clone=function(){if(this.W.Y||Ct(this),this.W.pa)return this.W.count.value+=1,this;var t=bt,e=Object,n=e.create,r=Object.getPrototypeOf(this),a=this.W;return(t=t(n.call(e,r,{W:{value:{count:a.count,na:a.na,pa:a.pa,Y:a.Y,Z:a.Z,ca:a.ca,fa:a.fa}}}))).W.count.value+=1,t.W.na=!1,t},$t.prototype.delete=function(){this.W.Y||Ct(this),this.W.na&&!this.W.pa&&J("Object already scheduled for deletion"),ht(this),pt(this.W),this.W.pa||(this.W.ca=void 0,this.W.Y=void 0)},$t.prototype.isDeleted=function(){return!this.W.Y},$t.prototype.deleteLater=function(){return this.W.Y||Ct(this),this.W.na&&!this.W.pa&&J("Object already scheduled for deletion"),at.push(this),1===at.length&&ot&&ot(it),this.W.na=!0,this},Xt.prototype.pb=function(t){return this.Sa&&(t=this.Sa(t)),t},Xt.prototype.Ka=function(t){this.ka&&this.ka(t)},Xt.prototype.argPackAdvance=8,Xt.prototype.readValueFromPointer=Tt,Xt.prototype.deleteObject=function(t){null!==t&&t.delete()},Xt.prototype.fromWireType=function(t){function e(){return this.ua?yt(this.X.ga,{Z:this.Ab,Y:n,fa:this,ca:t}):yt(this.X.ga,{Z:this,Y:t})}var n=this.pb(t);if(!n)return this.Ka(t),null;var r=function(t,e){return e=ut(t,e),st[e]}(this.X,n);if(void 0!==r)return 0===r.W.count.value?(r.W.Y=n,r.W.ca=t,r.clone()):(r=r.clone(),this.Ka(t),r);if(r=this.X.ob(n),!(r=vt[r]))return e.call(this);r=this.ta?r.fb:r.pointerType;var a=function t(e,n,r){return n===r?e:void 0===r.$?null:null===(e=t(e,n,r.$))?null:r.jb(e)}(n,this.X,r.X);return null===a?e.call(this):this.ua?yt(r.X.ga,{Z:r,Y:a,fa:this,ca:t}):yt(r.X.ga,{Z:r,Y:a})},Lt=a.UnboundTypeError=tt("UnboundTypeError");var me={I:function(t,e,n){t=rt(t),e=ft(e,"wrapper"),n=K(n);var r=[].slice,a=e.X,i=a.ga,o=a.$.ga,s=a.$.constructor;for(var u in t=Z(t,function(){a.$.Ra.forEach(function(t){if(this[t]===o[t])throw new et(`Pure virtual function ${t} must be implemented in JavaScript`)}.bind(this)),Object.defineProperty(this,"__parent",{value:i}),this.__construct.apply(this,r.call(arguments))}),i.__construct=function(){this===i&&J("Pass correct 'this' to __construct");var t=s.implement.apply(void 0,[this].concat(r.call(arguments)));ht(t);var e=t.W;t.notifyOnDestruction(),e.pa=!0,Object.defineProperties(this,{W:{value:e}}),bt(this),t=e.Y,t=ut(a,t),st.hasOwnProperty(t)?J(`Tried to register registered instance: ${t}`):st[t]=this},i.__destruct=function(){this===i&&J("Pass correct 'this' to __destruct"),ht(this);var t=this.W.Y;t=ut(a,t),st.hasOwnProperty(t)?delete st[t]:J(`Tried to unregister unregistered instance: ${t}`)},t.prototype=Object.create(i),n)t.prototype[u]=n[u];return Q(t)},L:function(t){var e=wt[t];delete wt[t];var n=e.Ba,r=e.ka,a=e.Na;Pt([t],a.map(t=>t.sb).concat(a.map(t=>t.Db)),t=>{var i={};return a.forEach((e,n)=>{var r=t[n],o=e.qb,s=e.rb,u=t[n+a.length],c=e.Cb,l=e.Eb;i[e.mb]={read:t=>r.fromWireType(o(s,t)),write:(t,e)=>{var n=[];c(l,t,u.toWireType(n,e)),At(n)}}}),[{name:e.name,fromWireType:function(t){var e,n={};for(e in i)n[e]=i[e].read(t);return r(t),n},toWireType:function(t,e){for(var a in i)if(!(a in e))throw new TypeError(`Missing field: "${a}"`);var o=n();for(a in i)i[a].write(o,e[a]);return null!==t&&t.push(r,o),o},argPackAdvance:8,readValueFromPointer:Tt,ea:r}]})},z:function(){},G:function(t,e,n,r,a){var i=Rt(n);_t(t,{name:e=rt(e),fromWireType:function(t){return!!t},toWireType:function(t,e){return e?r:a},argPackAdvance:8,readValueFromPointer:function(t){if(1===n)var r=A;else if(2===n)r=E;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+e);r=P}return this.fromWireType(r[t>>i])},ea:null})},e:function(t,e,n,r,a,i,o,s,u,c,l,f,h){l=rt(l),i=Dt(a,i),s&&(s=Dt(o,s)),c&&(c=Dt(u,c)),h=Dt(f,h);var d=H(l);St(d,function(){Bt(`Cannot construct ${l} due to unbound types`,[r])}),Pt([t,e,n],r?[r]:[],function(e){if(e=e[0],r)var n=e.X,a=n.ga;else a=$t.prototype;e=Z(d,function(){if(Object.getPrototypeOf(this)!==o)throw new q("Use 'new' to construct "+l);if(void 0===u.la)throw new q(l+" has no accessible constructor");var t=u.la[arguments.length];if(void 0===t)throw new q(`Tried to invoke ctor of ${l} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(u.la).toString()}) parameters instead!`);return t.apply(this,arguments)});var o=Object.create(a,{constructor:{value:e}});e.prototype=o;var u=new Ft(l,e,o,h,n,i,s,c);u.$&&(void 0===u.$.sa&&(u.$.sa=[]),u.$.sa.push(u)),n=new Xt(l,u,!0,!1),a=new Xt(l+"*",u,!1,!1);var f=new Xt(l+" const*",u,!1,!0);return vt[t]={pointerType:a,fb:f},Mt(d,e),[n,a,f]})},k:function(t,e,n,r,a,i,o){var s=Gt(n,r);e=rt(e),i=Dt(a,i),Pt([],[t],function(t){function r(){Bt(`Cannot call ${a} due to unbound types`,s)}var a=`${(t=t[0]).name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]);var u=t.X.constructor;return void 0===u[e]?(r.ma=n-1,u[e]=r):(kt(u,e,a),u[e].aa[n-1]=r),Pt([],s,function(r){if(r=Yt(a,[r[0],null].concat(r.slice(1)),null,i,o),void 0===u[e].aa?(r.ma=n-1,u[e]=r):u[e].aa[n-1]=r,t.X.sa)for(const n of t.X.sa)n.constructor.hasOwnProperty(e)||(n.constructor[e]=r);return[]}),[]})},s:function(t,e,n,r,a,i,o,s){e=rt(e),i=Dt(a,i),Pt([],[t],function(t){var a=`${(t=t[0]).name}.${e}`,u={get(){Bt(`Cannot access ${a} due to unbound types`,[n])},enumerable:!0,configurable:!0};return u.set=s?()=>{Bt(`Cannot access ${a} due to unbound types`,[n])}:()=>{J(`${a} is a read-only property`)},Object.defineProperty(t.X.constructor,e,u),Pt([],[n],function(n){n=n[0];var a={get:()=>n.fromWireType(i(r)),enumerable:!0};return s&&(s=Dt(o,s),a.set=(t=>{var e=[];s(r,n.toWireType(e,t)),At(e)})),Object.defineProperty(t.X.constructor,e,a),[]}),[]})},o:function(t,e,n,r,a,i){var o=Gt(e,n);a=Dt(r,a),Pt([],[t],function(t){var n=`constructor ${(t=t[0]).name}`;if(void 0===t.X.la&&(t.X.la=[]),void 0!==t.X.la[e-1])throw new q(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${t.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return t.X.la[e-1]=(()=>{Bt(`Cannot construct ${t.name} due to unbound types`,o)}),Pt([],o,function(r){return r.splice(1,0,null),t.X.la[e-1]=Yt(n,r,null,a,i),[]}),[]})},a:function(t,e,n,r,a,i,o,s){var u=Gt(n,r);e=rt(e),i=Dt(a,i),Pt([],[t],function(t){function r(){Bt(`Cannot call ${a} due to unbound types`,u)}var a=`${(t=t[0]).name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),s&&t.X.Ra.push(e);var c=t.X.ga,l=c[e];return void 0===l||void 0===l.aa&&l.className!==t.name&&l.ma===n-2?(r.ma=n-2,r.className=t.name,c[e]=r):(kt(c,e,a),c[e].aa[n-2]=r),Pt([],u,function(r){return r=Yt(a,r,t,i,o),void 0===c[e].aa?(r.ma=n-2,c[e]=r):c[e].aa[n-2]=r,[]}),[]})},d:function(t,e,n,r,a,i,o,s,u,c){e=rt(e),a=Dt(r,a),Pt([],[t],function(t){var r=`${(t=t[0]).name}.${e}`,l={get(){Bt(`Cannot access ${r} due to unbound types`,[n,o])},enumerable:!0,configurable:!0};return l.set=u?()=>{Bt(`Cannot access ${r} due to unbound types`,[n,o])}:()=>{J(r+" is a read-only property")},Object.defineProperty(t.X.ga,e,l),Pt([],u?[n,o]:[n],function(n){var o=n[0],l={get(){var e=Nt(this,t,r+" getter");return o.fromWireType(a(i,e))},enumerable:!0};if(u){u=Dt(s,u);var f=n[1];l.set=function(e){var n=Nt(this,t,r+" setter"),a=[];u(c,n,f.toWireType(a,e)),At(a)}}return Object.defineProperty(t.X.ga,e,l),[]}),[]})},F:function(t,e){_t(t,{name:e=rt(e),fromWireType:function(t){var e=K(t);return Ht(t),e},toWireType:function(t,e){return Q(e)},argPackAdvance:8,readValueFromPointer:Tt,ea:null})},l:function(t,e,n,r){function a(){}n=Rt(n),e=rt(e),a.values={},_t(t,{name:e,constructor:a,fromWireType:function(t){return this.constructor.values[t]},toWireType:function(t,e){return e.value},argPackAdvance:8,readValueFromPointer:Zt(e,n,r),ea:null}),St(e,a)},c:function(t,e,n){var r=ft(t,"enum");e=rt(e),t=r.constructor,r=Object.create(r.constructor.prototype,{value:{value:n},constructor:{value:Z(`${r.name}_${e}`,function(){})}}),t.values[n]=r,t[e]=r},u:function(t,e,n){n=Rt(n),_t(t,{name:e=rt(e),fromWireType:function(t){return t},toWireType:function(t,e){return e},argPackAdvance:8,readValueFromPointer:Vt(e,n),ea:null})},q:function(t,e,n,r,a,i){var o=Gt(e,n);t=rt(t),a=Dt(r,a),St(t,function(){Bt(`Cannot call ${t} due to unbound types`,o)},e-1),Pt([],o,function(n){return Mt(t,Yt(t,[n[0],null].concat(n.slice(1)),null,a,i),e-1),[]})},j:function(t,e,n,r,a){e=rt(e),-1===a&&(a=4294967295),a=Rt(n);var i=t=>t;if(0===r){var o=32-8*n;i=(t=>t<<o>>>o)}n=e.includes("unsigned")?function(t,e){return e>>>0}:function(t,e){return e},_t(t,{name:e,fromWireType:i,toWireType:n,argPackAdvance:8,readValueFromPointer:qt(e,a,0!==r),ea:null})},g:function(t,e,n){function r(t){t>>=2;var e=R;return new a(e.buffer,e[t+1],e[t])}var a=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];_t(t,{name:n=rt(n),fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{tb:!0})},v:function(t,e){var n="std::string"===(e=rt(e));_t(t,{name:e,fromWireType:function(t){var e=R[t>>2],r=t+4;if(n)for(var a=r,i=0;i<=e;++i){var o=r+i;if(i==e||0==T[o]){if(a=a?Kt(T,a,o-a):"",void 0===s)var s=a;else s+=String.fromCharCode(0),s+=a;a=o+1}}else{for(s=Array(e),i=0;i<e;++i)s[i]=String.fromCharCode(T[r+i]);s=s.join("")}return ye(t),s},toWireType:function(t,e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var r,a,i="string"==typeof e;if(i||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||J("Cannot pass non-string to std::string"),n&&i)for(r=a=0;r<e.length;++r){var o=e.charCodeAt(r);127>=o?a++:2047>=o?a+=2:55296<=o&&57343>=o?(a+=4,++r):a+=3}else a=e.length;if(o=(a=be(4+(r=a)+1))+4,R[a>>2]=r,n&&i){if(i=o,o=r+1,r=T,0<o){o=i+o-1;for(var s=0;s<e.length;++s){var u=e.charCodeAt(s);if(55296<=u&&57343>=u)u=65536+((1023&u)<<10)|1023&e.charCodeAt(++s);if(127>=u){if(i>=o)break;r[i++]=u}else{if(2047>=u){if(i+1>=o)break;r[i++]=192|u>>6}else{if(65535>=u){if(i+2>=o)break;r[i++]=224|u>>12}else{if(i+3>=o)break;r[i++]=240|u>>18,r[i++]=128|u>>12&63}r[i++]=128|u>>6&63}r[i++]=128|63&u}}r[i]=0}}else if(i)for(i=0;i<r;++i)255<(s=e.charCodeAt(i))&&(ye(o),J("String has UTF-16 code units that do not fit in 8 bits")),T[o+i]=s;else for(i=0;i<r;++i)T[o+i]=e[i];return null!==t&&t.push(ye,a),a},argPackAdvance:8,readValueFromPointer:Tt,ea:function(t){ye(t)}})},t:function(t,e,n){if(n=rt(n),2===e)var r=te,a=ee,i=ne,o=()=>W,s=1;else 4===e&&(r=re,a=ae,i=ie,o=(()=>R),s=2);_t(t,{name:n,fromWireType:function(t){for(var n,a=R[t>>2],i=o(),u=t+4,c=0;c<=a;++c){var l=t+4+c*e;c!=a&&0!=i[l>>s]||(u=r(u,l-u),void 0===n?n=u:(n+=String.fromCharCode(0),n+=u),u=l+e)}return ye(t),n},toWireType:function(t,r){"string"!=typeof r&&J(`Cannot pass non-string to C++ string type ${n}`);var o=i(r),u=be(4+o+e);return R[u>>2]=o>>s,a(r,u+4,o+e),null!==t&&t.push(ye,u),u},argPackAdvance:8,readValueFromPointer:Tt,ea:function(t){ye(t)}})},N:function(t,e,n,r,a,i){wt[t]={name:rt(e),Ba:Dt(n,r),ka:Dt(a,i),Na:[]}},M:function(t,e,n,r,a,i,o,s,u,c){wt[t].Na.push({mb:rt(e),sb:n,qb:Dt(r,a),rb:i,Db:o,Cb:Dt(s,u),Eb:c})},H:function(t,e){_t(t,{vb:!0,name:e=rt(e),argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},r:function(t,e,n){t=K(t),e=ft(e,"emval::as");var r=[],a=Q(r);return R[n>>2]=a,e.toWireType(r,t)},w:function(t,e,n,r,a){t=ue[t],e=K(e),n=se(n);var i=[];return R[r>>2]=Q(i),t(e,n,i,a)},i:function(t,e,n,r){(t=ue[t])(e=K(e),n=se(n),null,r)},f:Ht,h:function(t,e){var n=function(t,e){for(var n=Array(t),r=0;r<t;++r)n[r]=ft(R[e+4*r>>2],"parameter "+r);return n}(t,e),r=n[0];e=r.name+"_$"+n.slice(1).map(function(t){return t.name}).join("_")+"$";var a=le[e];if(void 0!==a)return a;var i=Array(t-1);return a=function(t){var e=ue.length;return ue.push(t),e}((e,a,o,s)=>{for(var u=0,c=0;c<t-1;++c)i[c]=n[c+1].readValueFromPointer(s+u),u+=n[c+1].argPackAdvance;for(e=e[a].apply(e,i),c=0;c<t-1;++c)n[c+1].hb&&n[c+1].hb(i[c]);if(!r.vb)return r.toWireType(o,e)}),le[e]=a},p:function(t){return t=se(t),Q(a[t])},K:function(t,e){return t=K(t),e=K(e),Q(t[e])},m:function(t){4<t&&(V.get(t).Ta+=1)},J:function(t){return Q(se(t))},n:function(t){At(K(t)),Ht(t)},x:function(t,e){return t=(t=ft(t,"_emval_take_value")).readValueFromPointer(e),Q(t)},b:()=>{D("")},A:t=>{var e=T.length;if(2147483648<(t>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=e*(1+.2/n);r=Math.min(r,t+100663296);var a=Math;r=Math.max(t,r);t:{a=a.min.call(a,2147483648,r+(65536-r%65536)%65536)-b.buffer.byteLength+65535>>>16;try{b.grow(a),k();var i=1;break t}catch(o){}i=void 0}if(i)return!0}return!1},B:(t,e)=>{var n=0;return he().forEach(function(r,a){var i=e+n;for(a=R[t+4*a>>2]=i,i=0;i<r.length;++i)A[a++>>0]=r.charCodeAt(i);A[a>>0]=0,n+=r.length+1}),0},C:(t,e)=>{var n=he();R[t>>2]=n.length;var r=0;return n.forEach(function(t){r+=t.length+1}),R[e>>2]=r,0},D:()=>52,y:function(){return 70},E:(t,e,n,r)=>{for(var a=0,i=0;i<n;i++){var o=R[e>>2],s=R[e+4>>2];e+=8;for(var u=0;u<s;u++){var c=T[o+u],l=de[t];0===c||10===c?((1===t?g:y)(Kt(l,0)),l.length=0):l.push(c)}a+=s}return R[r>>2]=a,0}};!function(){function t(t){if(w=t=t.exports,b=w.O,k(),S=w.U,x.unshift(w.P),X--,a.monitorRunDependencies&&a.monitorRunDependencies(X),0==X&&(null!==M&&(clearInterval(M),M=null),j)){var e=j;j=null,e()}return t}var e={a:me};if(X++,a.monitorRunDependencies&&a.monitorRunDependencies(X),a.instantiateWasm)try{return a.instantiateWasm(e,t)}catch(n){y("Module.instantiateWasm callback failed with error: "+n),r(n)}(function(t,e){var n=U;return m||"function"!=typeof WebAssembly.instantiateStreaming||L(n)||n.startsWith("file://")||"function"!=typeof fetch?G(n,t,e):fetch(n,{credentials:"same-origin"}).then(r=>WebAssembly.instantiateStreaming(r,t).then(e,function(r){return y("wasm streaming compile failed: "+r),y("falling back to ArrayBuffer instantiation"),G(n,t,e)}))})(e,function(e){t(e.instance)}).catch(r)}();var ge,ye=t=>(ye=w.Q)(t),be=t=>(be=w.R)(t),we=t=>(we=w.S)(t);function Ae(){function t(){if(!ge&&(ge=!0,a.calledRun=!0,!$)){if(N(x),n(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;){var t=a.postRun.shift();I.unshift(t)}N(I)}}if(!(0<X)){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)O();N(F),0<X||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),t()},1)):t())}}if(a.__embind_initialize_bindings=(()=>(a.__embind_initialize_bindings=w.T)()),a.dynCall_jiji=((t,e,n,r,i)=>(a.dynCall_jiji=w.V)(t,e,n,r,i)),j=function t(){ge||Ae(),ge||(j=t)},a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();return Ae(),e.ready}})(),e=exports.default=t;
},{}],"ZCfc":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(r,i){function o(e){try{u(a.next(e))}catch(t){i(t)}}function c(e){try{u(a.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,c)}u((a=a.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,a,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(o=0)),o;)try{if(n=1,a&&(r=2&c[0]?a.return:c[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,c[1])).done)return r;switch(a=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,a=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(u){c=[6,u],a=0}finally{n=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var a=n(require("@rive-app/canvas-advanced"));function r(){return e(this,void 0,void 0,function(){function e(t){C||(C=t);var a=(t-C)/1e3;if(C=t,d.clear(),d.save(),v&&y){var i=0;w&&(w.advance(a),w.apply(1)),g>0&&(g-=1*a,x.asNumber().value+=1,T+=2.5*M,Math.abs(T)>=100&&(T=100*M),A.asNumber().value=T,g<=0&&(g=0)),b.advance(a),d.save();var o=c+s;d.translate(o,0),d.align(n.Fit.fitWidth,n.Alignment.center,{minX:0,minY:0,maxX:l,maxY:r.height},y.bounds),y.advance(a),y.draw(d),d.restore();for(var u=0,f=Array.from(P);u<f.length;u++){var m=f[u],h=m.artboard,p=(m.machine,m.anim),B=m.anim2,N=m.tapTrigger,_=m.x,I=m.y;d.save(),X[i].t>0&&(1==X[i].type?(p.advance(a),p.apply(1)):2==X[i].type&&(B.advance(a),B.apply(1)),X[i].t-=1*a,X[i].t<=0?(X[i].t=0,X[i].type=0,p.time=0,B.time=0):X[i].t<=1&&1==X[i].type&&(S[i]=k[i])),h.textRun("Count").text=S[i].toString(),d.translate(_,I),d.align(n.Fit.contain,n.Alignment.center,{minX:0,minY:0,maxX:s,maxY:s},h.bounds),N.fire(),h.advance(a),h.draw(d),d.restore(),i++}}d.restore(),n.requestAnimationFrame(e)}var n,r,i,o,c,u,s,l,d,f,m,v,h,p,y,w,b,g,x,B,A,N,M,T,_,I,S,k,E,L,F,X,q,C,Y,P,R;return t(this,function(t){switch(t.label){case 0:return[4,(0,a.default)({locateFile:function(e){return"https://unpkg.com/@rive-app/canvas-advanced@2.2.0/rive.wasm"}})];case 1:return n=t.sent(),(r=document.getElementById("rive-canvas")).height=document.documentElement.clientHeight,r.width=document.documentElement.clientWidth,i=r.width/1792,o=r.height/922,c=10*i,u=10*o,s=(r.height-6*u)/5,l=r.width-2*(c+s),d=n.makeRenderer(r),[4,fetch(new Request("2023-10-23-tile_test-001.riv"))];case 2:return[4,t.sent().arrayBuffer()];case 3:return f=t.sent(),[4,n.load(new Uint8Array(f))];case 4:return m=t.sent(),v=m.defaultArtboard(),[4,fetch(new Request("Background.riv"))];case 5:return[4,t.sent().arrayBuffer()];case 6:return h=t.sent(),[4,n.load(new Uint8Array(h))];case 7:for(p=t.sent(),y=p.defaultArtboard(),new n.LinearAnimationInstance(y.animationByName("Tap"),y),w=new n.LinearAnimationInstance(y.animationByName("Plane Flying"),y),b=new n.StateMachineInstance(y.stateMachineByName("State Machine"),y),q=0;q<y.animationCount();++q)console.log(y.animationByIndex(q).name);for(g=0,M=1,T=0,q=0,_=b.inputCount();q<_;q++)I=b.input(q),console.log(I.name,I.type),"Progress"==I.name?x=I:"TileSide"==I.name?B=I:"BalloonX"==I.name?A=I:"Tap"==I.name&&(N=I);for(S=[],k=[],E=-1,L=1,F=10,!1,X=[],q=0;q<10;++q)S[q]=q+1,k[q]=S[q],X[q]={type:0,t:0};return function(e){for(var t,n=e.length-1;n>0;n--){var a=Math.floor(Math.random()*(n+1));t=[e[a],e[n]],e[n]=t[0],e[a]=t[1]}}(S),C=0,Y=m.artboardByName("artboard"),P=new Set,function(){for(var e=0;e<2;++e)for(var t=0;t<5;++t){for(var a=m.artboardByName("artboard"),i=new n.StateMachineInstance(Y.stateMachineByName("State Machine"),a),o=void 0,l=0,d=i.inputCount();l<d;l++){var f=i.input(l);switch(console.log(f.name),f.name){case"Tap":o=f.asTrigger()}}var v=e?r.width-(s+c):c,h=new n.LinearAnimationInstance(a.animationByName("Tap / Correct"),a),p=new n.LinearAnimationInstance(a.animationByName("Tap / Incorrect"),a),y={x:v,y:t*s+u*(t+1),artboard:a,machine:i,anim:h,anim2:p,tapTrigger:o};i.advance(0),y.artboard.advance(0),P.add(y)}}(),window.addEventListener("resize",function(e){location.href=""}),R=!1,r.addEventListener("mousedown",function(e){var t=e.offsetX,n=e.offsetY;R||(R=!0,(E=function(e,t){for(var n=0;n<2;++n)for(var a=0;a<5;++a){var i=n?r.width-(s+c):c,o=a*s+u*(a+1);if(e>=i&&e<=i+s&&t>=o&&t<=o+s)return 5*n+a}return-1}(t,n))>-1&&0==X[E].t&&(L==S[E]?(!0,L++,N.asTrigger().fire(),k[E]=++F,X[E].type=1,X[E].t=2,g=.5,E<5?(B.asNumber().value=0,M=1):(B.asNumber().value=1,M=-1)):(!1,X[E].type=2,X[E].t=2)))}),r.addEventListener("mouseup",function(e){R&&(R=!1)}),n.requestAnimationFrame(e),[2]}})})}r();
},{"@rive-app/canvas-advanced":"QkNs"}]},{},["ZCfc"], null)
//# sourceMappingURL=/main.4f10dad0.js.map